Migrate from v4.* to v5

Open Terminal.

Login to mysql.

Select inout database.

Execute the following query one by one.

ALTER TABLE `inout` CHANGE `cardnumber` `cardnumber` VARCHAR(30) NOT NULL;

ALTER TABLE `inout` CHANGE `loc` `loc` VARCHAR(100) NOT NULL DEFAULT '';

ALTER TABLE `loc` CHANGE `loc` `loc` VARCHAR(100) NOT NULL;

CREATE TABLE `log` (
  `id` int(11) NOT NULL,
  `date` varchar(20) NOT NULL,
  `time` varchar(20) NOT NULL,
  `usertype` varchar(100) NOT NULL DEFAULT '',
  `userid` varchar(20) NOT NULL,
  `action` varchar(100) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

INSERT INTO `setup` (`var`, `value`)
VALUES
  ('banner', 'false'),
  ('activedash', 'quote');

# Create table for attendance log
CREATE TABLE `inout_log` (
  `log_id` int(11) NOT NULL AUTO_INCREMENT,
  `id` varchar(30) NOT NULL,
  `timestamp` datetime NOT NULL,
  `status` varchar(10) NOT NULL,
  PRIMARY KEY (`log_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

# Create table for users
CREATE TABLE `users` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `username` varchar(50) NOT NULL,
  `fname` varchar(100) NOT NULL,
  `pass` varchar(255) NOT NULL,
  `role` int(11) NOT NULL,
  `loc` varchar(100) NOT NULL DEFAULT '',
  `active` tinyint(1) NOT NULL DEFAULT '1',
  `llogin` varchar(30) DEFAULT NULL,
  `lib_name` varchar(100) DEFAULT NULL,
  `banner` varchar(20) DEFAULT 'false',
  `dashboard` varchar(50) DEFAULT 'quote',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
